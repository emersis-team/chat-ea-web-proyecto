{"remainingRequest":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\src\\views\\Home.vue","mtime":1593708497053},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvbnZlcnNhY2lvbiBmcm9tICJAL2NvbXBvbmVudHMvQ29udmVyc2FjaW9uLnZ1ZSI7CmltcG9ydCBDaGF0IGZyb20gIkAvY29tcG9uZW50cy9DaGF0LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgQ29udmVyc2FjaW9uOiBDb252ZXJzYWNpb24sCiAgICBDaGF0OiBDaGF0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udmVyc2FjaW9uRWxlZ2lkYTogbnVsbCwKICAgICAgY29udmVyc2FjaW9uZXNGaWx0cmFkYXM6IFtdLAogICAgICBjb252ZXJzYWNpb25lczogW10sCiAgICAgIG1lbnNhamVzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldENvbnZlcnNhY2lvbmVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb252ZXJzYWNpb25lczogZnVuY3Rpb24gZ2V0Q29udmVyc2FjaW9uZXMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGxvY2FsdXJsICsgIi9hcGkvdjEvbWVzc2FnZXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHRoYXQuY29udmVyc2FjaW9uZXMgPSByZXNwb25zZS5kYXRhLmNvbnZlcnNhdGlvbnM7CiAgICAgICAgdGhhdC5jb252ZXJzYWNpb25lc0ZpbHRyYWRhcyA9IHRoYXQuY29udmVyc2FjaW9uZXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB0aGF0LiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1c2NhcjogZnVuY3Rpb24gYnVzY2FyKCkgewogICAgICB2YXIgaW5wdXRCdXNjYXIgPSB0aGlzLiRyZWZzLmlucHV0QnVzY2FyLnZhbHVlLnRvVXBwZXJDYXNlKCk7CiAgICAgIHRoaXMuY29udmVyc2FjaW9uZXNGaWx0cmFkYXMgPSB0aGlzLmNvbnZlcnNhY2lvbmVzLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnVzZXJfZGVzdC5uYW1lLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihpbnB1dEJ1c2NhcikgPiAtMSB8fCBjLnVzZXJfZGVzdC5lbWFpbC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoaW5wdXRCdXNjYXIpID4gLTE7CiAgICAgIH0pOwogICAgfSwKICAgIGVsZWdpckNvbnZlcnNhY2lvbjogZnVuY3Rpb24gZWxlZ2lyQ29udmVyc2FjaW9uKGNvbnZlcnNhY2lvbikgewogICAgICB0aGlzLmNvbnZlcnNhY2lvbkVsZWdpZGEgPSBjb252ZXJzYWNpb247CiAgICAgIHRoaXMuJGV2ZW50SHViLiRlbWl0KCJjaGF0LWdldCIsIGNvbnZlcnNhY2lvbi5pZCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,YAAA,MAAA,+BAAA;AACA,OAAA,IAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,IAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,mBAAA,EAAA,IADA;AAEA,MAAA,uBAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,iBAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,CACA,GADA,CACA,KAAA,SAAA,GAAA,kBADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,aAAA;AACA,QAAA,IAAA,CAAA,uBAAA,GAAA,IAAA,CAAA,cAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OATA;AAUA,KAbA;AAcA,IAAA,MAdA,oBAcA;AACA,UAAA,WAAA,GAAA,KAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AACA,WAAA,uBAAA,GAAA,KAAA,cAAA,CAAA,MAAA,CACA,UAAA,CAAA;AAAA,eACA,CAAA,CAAA,SAAA,CAAA,IAAA,CAAA,WAAA,GAAA,OAAA,CAAA,WAAA,IAAA,CAAA,CAAA,IACA,CAAA,CAAA,SAAA,CAAA,KAAA,CAAA,WAAA,GAAA,OAAA,CAAA,WAAA,IAAA,CAAA,CAFA;AAAA,OADA,CAAA;AAKA,KArBA;AAsBA,IAAA,kBAtBA,8BAsBA,YAtBA,EAsBA;AACA,WAAA,mBAAA,GAAA,YAAA;AACA,WAAA,SAAA,CAAA,KAAA,CAAA,UAAA,EAAA,YAAA,CAAA,EAAA;AACA;AAzBA;AAjBA,CAAA","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"home-body\">\n      <div class=\"home-left\">\n        <input\n          class=\"home-buscar\"\n          type=\"text\"\n          placeholder=\"Buscar\"\n          @keyup=\"buscar()\"\n          ref=\"inputBuscar\"\n        />\n        <div\n          v-for=\"conversacion in conversacionesFiltradas\"\n          :key=\"conversacion.id\"\n          @click=\"elegirConversacion(conversacion)\"\n          v-bind:class=\"{\n            'home-conversacion-elegida': conversacion == conversacionElegida\n          }\"\n        >\n          <Conversacion :conversacion=\"conversacion\"></Conversacion>\n        </div>\n      </div>\n      <div class=\"home-right\">\n        <Chat v-if=\"conversacionElegida != null\" :conversacion=\"conversacionElegida\"></Chat>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Conversacion from \"@/components/Conversacion.vue\";\nimport Chat from \"@/components/Chat.vue\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    Conversacion,\n    Chat\n  },\n  data() {\n    return {\n      conversacionElegida: null,\n      conversacionesFiltradas: [],\n      conversaciones: [],\n      mensajes: []\n    };\n  },\n  mounted() {\n    this.getConversaciones();\n  },\n  methods: {\n    getConversaciones() {\n      var that = this;\n      this.$axios\n        .get(this.$localurl + \"/api/v1/messages\")\n        .then(function(response) {\n          that.conversaciones = response.data.conversations;\n          that.conversacionesFiltradas = that.conversaciones;\n        })\n        .catch(function(response) {\n          console.log(response);\n          that.$router.push(\"/login\");\n        });\n    },\n    buscar() {\n      var inputBuscar = this.$refs.inputBuscar.value.toUpperCase();\n      this.conversacionesFiltradas = this.conversaciones.filter(\n        c =>\n          c.user_dest.name.toUpperCase().indexOf(inputBuscar) > -1 ||\n          c.user_dest.email.toUpperCase().indexOf(inputBuscar) > -1\n      );\n    },\n    elegirConversacion(conversacion) {\n      this.conversacionElegida = conversacion;\n      this.$eventHub.$emit(\"chat-get\", conversacion.id);\n    }\n  }\n};\n</script>\n\n<style scoped src=\"../assets/css/views/home.css\"></style>\n"],"sourceRoot":"src/views"}]}