{"remainingRequest":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\babel-loader\\lib\\index.js!D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Trabajos\\CIDESO\\chat-ea-web\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\src\\views\\Login.vue","mtime":1593204330870},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Trabajos\\CIDESO\\chat-ea-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vc3RyYXJPam9BY3Rpdm86IGZhbHNlLAogICAgICBlcnJvclVzdWFyaW86IGZhbHNlLAogICAgICBlcnJvclBhc3N3b3JkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgY2hhbmdlUGFzc3dvcmRUeXBlOiBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZFR5cGUodGlwbykgewogICAgICBpZiAodGlwbyA9PSAidGV4dCIpIHsKICAgICAgICB0aGlzLm1vc3RyYXJPam9BY3Rpdm8gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubW9zdHJhck9qb0FjdGl2byA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLiRyZWZzLmxvZ2luUGFzc3dvcmQudHlwZSA9IHRpcG87CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgZ3VhcmRhciA9IHRydWU7CiAgICAgIHZhciB1c2VybmFtZSA9IHRoaXMuJHJlZnMubG9naW5Vc2VyLnZhbHVlOwogICAgICB2YXIgcGFzc3dvcmQgPSB0aGlzLiRyZWZzLmxvZ2luUGFzc3dvcmQudmFsdWU7CgogICAgICBpZiAodXNlcm5hbWUgPT0gIiIpIHsKICAgICAgICBndWFyZGFyID0gZmFsc2U7CiAgICAgICAgdGhpcy5lcnJvclVzdWFyaW8gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3JVc3VhcmlvID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChwYXNzd29yZCA9PSAiIikgewogICAgICAgIGd1YXJkYXIgPSBmYWxzZTsKICAgICAgICB0aGlzLmVycm9yUGFzc3dvcmQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3JQYXNzd29yZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoZ3VhcmRhciA9PSB0cnVlKSB7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kbG9jYWx1cmwgKyAiL2FwaS92MS9hdXRoL2xvZ2luP2VtYWlsPSIgKyB1c2VybmFtZSArICImcGFzc3dvcmQ9IiArIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIiR0b2tlbiIsIHJlc3BvbnNlLnRva2VuKTsKICAgICAgICAgIHRoYXQuJGV2ZW50SHViLiRlbWl0KCJsb2dlZCIpOwogICAgICAgICAgdGhhdC4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgIHRoYXQuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCIkdG9rZW4iKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGF0LmVycm9yVXN1YXJpbyA9IHRydWU7CiAgICAgICAgICB0aGF0LmVycm9yUGFzc3dvcmQgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAVA,qBAUA,CAAA,CAVA;AAWA,EAAA,OAXA,qBAWA,CAAA,CAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,IADA,EACA;AACA,UAAA,IAAA,IAAA,MAAA,EAAA;AACA,aAAA,gBAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,gBAAA,GAAA,KAAA;AACA;;AACA,WAAA,KAAA,CAAA,aAAA,CAAA,IAAA,GAAA,IAAA;AACA,KARA;AASA,IAAA,KATA,mBASA;AACA,UAAA,OAAA,GAAA,IAAA;AAEA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,aAAA,CAAA,KAAA;;AAEA,UAAA,QAAA,IAAA,EAAA,EAAA;AACA,QAAA,OAAA,GAAA,KAAA;AACA,aAAA,YAAA,GAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;;AACA,UAAA,QAAA,IAAA,EAAA,EAAA;AACA,QAAA,OAAA,GAAA,KAAA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,aAAA,GAAA,KAAA;AACA;;AACA,UAAA,OAAA,IAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA;AACA,aAAA,MAAA,CACA,IADA,CAEA,KAAA,SAAA,GACA,2BADA,GAEA,QAFA,GAGA,YAHA,GAIA,QANA,EAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,QAAA,CAAA,KAAA;AACA,UAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,OAAA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,eAAA,IACA,YAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CADA;AAEA,SAdA,EAeA,KAfA,CAeA,YAAA;AACA,UAAA,IAAA,CAAA,YAAA,GAAA,IAAA;AACA,UAAA,IAAA,CAAA,aAAA,GAAA,IAAA;AACA,SAlBA;AAmBA;AACA;AAjDA;AAZA,CAAA","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login-row\">\n      <label class=\"login-label\">Usuario</label>\n      <input\n        class=\"login-input\"\n        type=\"text\"\n        placeholder=\"Escribe tu usuario aquí\"\n        ref=\"loginUser\"\n        v-bind:class=\"{ 'error-input': errorUsuario }\"\n      />\n    </div>\n    <div class=\"login-row\">\n      <label class=\"login-label\">Contraseña</label>\n      <input\n        class=\"login-input\"\n        type=\"password\"\n        ref=\"loginPassword\"\n        v-on:keyup.enter=\"login()\"\n        v-bind:class=\"{ 'error-input': errorPassword }\"\n      />\n      <img\n        class=\"login-input-ojo\"\n        src=\"../assets/img/ojo.png\"\n        v-show=\"!mostrarOjoActivo\"\n        @click=\"changePasswordType('text')\"\n      />\n      <img\n        class=\"login-input-ojo\"\n        src=\"../assets/img/ojo-active.png\"\n        v-show=\"mostrarOjoActivo\"\n        @click=\"changePasswordType('password')\"\n      />\n    </div>\n    <button class=\"login-btn\" @click=\"login()\">Ingresar</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  components: {},\n  data() {\n    return {\n      mostrarOjoActivo: false,\n      errorUsuario: false,\n      errorPassword: false\n    };\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    changePasswordType(tipo) {\n      if (tipo == \"text\") {\n        this.mostrarOjoActivo = true;\n      } else {\n        this.mostrarOjoActivo = false;\n      }\n      this.$refs.loginPassword.type = tipo;\n    },\n    login() {\n      var guardar = true;\n\n      var username = this.$refs.loginUser.value;\n      var password = this.$refs.loginPassword.value;\n\n      if (username == \"\") {\n        guardar = false;\n        this.errorUsuario = true;\n      } else {\n        this.errorUsuario = false;\n      }\n      if (password == \"\") {\n        guardar = false;\n        this.errorPassword = true;\n      } else {\n        this.errorPassword = false;\n      }\n      if (guardar == true) {\n        var that = this;\n        this.$axios\n          .post(\n            this.$localurl +\n              \"/api/v1/auth/login?email=\" +\n              username +\n              \"&password=\" +\n              password\n          )\n          .then(function(response) {\n            localStorage.setItem(\"$token\", response.token);\n            that.$eventHub.$emit(\"loged\");\n            that.$router.push(\"/\");\n            that.axios.defaults.headers.common[\"Authorization\"] =\n              \"Bearer \" + localStorage.getItem(\"$token\");\n          })\n          .catch(function() {\n            that.errorUsuario = true;\n            that.errorPassword = true;\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style>\n@import \"../assets/css/views/login.css\";\n</style>\n"],"sourceRoot":"src/views"}]}