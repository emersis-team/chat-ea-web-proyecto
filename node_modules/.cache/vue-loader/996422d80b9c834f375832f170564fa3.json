{"remainingRequest":"C:\\Users\\javi_\\Desktop\\asd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\javi_\\Desktop\\asd\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\javi_\\Desktop\\asd\\src\\views\\Home.vue","mtime":1593722127842},{"path":"C:\\Users\\javi_\\Desktop\\asd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\javi_\\Desktop\\asd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\javi_\\Desktop\\asd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb252ZXJzYWNpb24gZnJvbSAiQC9jb21wb25lbnRzL0NvbnZlcnNhY2lvbi52dWUiOwppbXBvcnQgQ2hhdCBmcm9tICJAL2NvbXBvbmVudHMvQ2hhdC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBDb252ZXJzYWNpb24sCiAgICBDaGF0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udmVyc2FjaW9uRWxlZ2lkYTogbnVsbCwKICAgICAgY29udmVyc2FjaW9uZXNGaWx0cmFkYXM6IFtdLAogICAgICBjb252ZXJzYWNpb25lczogW10sCiAgICAgIG1lbnNhamVzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldENvbnZlcnNhY2lvbmVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb252ZXJzYWNpb25lcygpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRheGlvcwogICAgICAgIC5nZXQodGhpcy4kbG9jYWx1cmwgKyAiL2FwaS92MS9tZXNzYWdlcyIpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHRoYXQuY29udmVyc2FjaW9uZXMgPSByZXNwb25zZS5kYXRhLmNvbnZlcnNhdGlvbnM7CiAgICAgICAgICB0aGF0LmNvbnZlcnNhY2lvbmVzRmlsdHJhZGFzID0gdGhhdC5jb252ZXJzYWNpb25lczsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICAgICAgdGhhdC4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGJ1c2NhcigpIHsKICAgICAgdmFyIGlucHV0QnVzY2FyID0gdGhpcy4kcmVmcy5pbnB1dEJ1c2Nhci52YWx1ZS50b1VwcGVyQ2FzZSgpOwogICAgICB0aGlzLmNvbnZlcnNhY2lvbmVzRmlsdHJhZGFzID0gdGhpcy5jb252ZXJzYWNpb25lcy5maWx0ZXIoCiAgICAgICAgYyA9PgogICAgICAgICAgYy51c2VyX2Rlc3QubmFtZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoaW5wdXRCdXNjYXIpID4gLTEgfHwKICAgICAgICAgIGMudXNlcl9kZXN0LmVtYWlsLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihpbnB1dEJ1c2NhcikgPiAtMQogICAgICApOwogICAgfSwKICAgIGVsZWdpckNvbnZlcnNhY2lvbihjb252ZXJzYWNpb24pIHsKICAgICAgdGhpcy5jb252ZXJzYWNpb25FbGVnaWRhID0gY29udmVyc2FjaW9uOwogICAgICB0aGlzLiRldmVudEh1Yi4kZW1pdCgiY2hhdC1nZXQiLCBjb252ZXJzYWNpb24uaWQpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"home-body\">\n      <div class=\"home-left\">\n        <input\n          class=\"home-buscar\"\n          type=\"text\"\n          placeholder=\"Buscar\"\n          @keyup=\"buscar()\"\n          ref=\"inputBuscar\"\n        />\n        <div\n          v-for=\"conversacion in conversacionesFiltradas\"\n          :key=\"conversacion.id\"\n          @click=\"elegirConversacion(conversacion)\"\n          v-bind:class=\"{\n            'home-conversacion-elegida': conversacion == conversacionElegida\n          }\"\n        >\n          <Conversacion :conversacion=\"conversacion\"></Conversacion>\n        </div>\n      </div>\n      <div class=\"home-right\">\n        <Chat v-if=\"conversacionElegida != null\" :conversacion=\"conversacionElegida\"></Chat>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Conversacion from \"@/components/Conversacion.vue\";\nimport Chat from \"@/components/Chat.vue\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    Conversacion,\n    Chat\n  },\n  data() {\n    return {\n      conversacionElegida: null,\n      conversacionesFiltradas: [],\n      conversaciones: [],\n      mensajes: []\n    };\n  },\n  mounted() {\n    this.getConversaciones();\n  },\n  methods: {\n    getConversaciones() {\n      var that = this;\n      this.$axios\n        .get(this.$localurl + \"/api/v1/messages\")\n        .then(function(response) {\n          that.conversaciones = response.data.conversations;\n          that.conversacionesFiltradas = that.conversaciones;\n        })\n        .catch(function(response) {\n          if (response.response.status == 401) {\n            that.$router.push(\"/login\");\n          }\n        });\n    },\n    buscar() {\n      var inputBuscar = this.$refs.inputBuscar.value.toUpperCase();\n      this.conversacionesFiltradas = this.conversaciones.filter(\n        c =>\n          c.user_dest.name.toUpperCase().indexOf(inputBuscar) > -1 ||\n          c.user_dest.email.toUpperCase().indexOf(inputBuscar) > -1\n      );\n    },\n    elegirConversacion(conversacion) {\n      this.conversacionElegida = conversacion;\n      this.$eventHub.$emit(\"chat-get\", conversacion.id);\n    }\n  }\n};\n</script>\n\n<style scoped src=\"../assets/css/views/home.css\"></style>\n"]}]}